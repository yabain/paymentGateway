"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[1984],{1984:(M,g,n)=>{n.r(g),n.d(g,{LoginModule:()=>R});var d=n(60177),l=n(51188),r=n(89417),p=n(96697),u=n(76208),t=n(54438),f=n(77927),v=n(20543),h=n(45794);const c=o=>({"is-invalid":o});function b(o,a){1&o&&(t.j41(0,"div"),t.EFF(1," Email is required. "),t.k0s())}function C(o,a){1&o&&(t.j41(0,"div"),t.EFF(1," Please, enter valid email address. "),t.k0s())}function w(o,a){if(1&o&&(t.j41(0,"div",12),t.DNE(1,b,2,0,"div")(2,C,2,0,"div"),t.k0s()),2&o){const i=t.XpG();t.R7$(),t.vxM(i.f.email.errors&&i.f.email.errors.required?1:-1),t.R7$(),t.vxM(i.f.email.errors&&i.f.email.errors.email?2:-1)}}function k(o,a){1&o&&(t.j41(0,"div"),t.EFF(1," Mot de passe requis. "),t.k0s())}function y(o,a){if(1&o&&(t.j41(0,"div",12),t.DNE(1,k,2,0,"div"),t.k0s()),2&o){const i=t.XpG();t.R7$(),t.vxM(i.f.password.errors&&i.f.password.errors.required?1:-1)}}function F(o,a){if(1&o&&(t.j41(0,"button",26),t.EFF(1," Connexion "),t.k0s()),2&o){const i=t.XpG();t.Y8G("disabled",i.form.invalid)}}function L(o,a){if(1&o&&(t.j41(0,"button",27),t.nrm(1,"img",28),t.k0s()),2&o){const i=t.XpG();t.Y8G("disabled",i.form.invalid)}}const j=[{path:"",component:(()=>{class o{get f(){return this.form.controls}constructor(i,e,s,m,$){this.router=i,this.auth=e,this.userService=s,this.storage=m,this.toastr=$,this.isLoading=!1,this.routes=u.JZ,this.show_password=!0,this.form=new r.gE({email:new r.MJ("",[r.k0.required,r.k0.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]),password:new r.MJ("",[r.k0.required])})}loginFormSubmit(){this.form.valid?(this.isLoading=!0,this.auth.login(this.form.value).then(i=>{console.log("res login: ",i),!0===i.success?this.userService.getUserData(i.message).pipe((0,p.s)(1)).subscribe(e=>{e?(console.log("data of getting userDaya: ",JSON.stringify(e)),this.storage.setStorage("user_data",JSON.stringify(e)),this.toastr.success("Heureux de vous revoir!","Bienvenue",{timeOut:7e3,closeButton:!0}),this.router.navigate([u.JZ.superAdminDashboard]),this.isLoading=!1):(this.auth.logout(),this.toastr.error(i.message,"Erreur",{timeOut:7e3,closeButton:!0}),console.log("No userDaya: "),this.isLoading=!1)}):(this.toastr.error(i.message,"Erreur",{timeOut:7e3,closeButton:!0}),this.isLoading=!1)})):this.toastr.error("Veuillez v\xe9rifier vos donn\xe9es","Formulaire invalide",{timeOut:7e3,closeButton:!0})}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(l.Ix),t.rXU(u.uR),t.rXU(f.D),t.rXU(v.n),t.rXU(h.tw))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-login"]],decls:37,vars:15,consts:[[1,"main-wrapper","login-body"],[1,"login-wrapper"],[1,"container"],[1,"loginbox"],[1,"login-right"],[1,"login-right-wrap"],["src","assets/img/new/y_nkap.png","alt","Logo",1,"img-fluid","logo-dark","mb-2","logo-color"],[1,"account-subtitle"],[3,"ngSubmit","formGroup"],[1,"input-block","mb-3"],["htmlFor","label",1,"form-control-label"],["id","label","type","text","formControlName","email","id","email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[1,"pass-group"],["id","label","type","password","formControlName","password","id","password",1,"form-control",3,"type","ngClass"],["href","javascript:void(0);",3,"click"],[3,"ngClass"],[1,"row"],[1,"col-12",2,"margin-bottom","20px"],[1,"custom-control","custom-checkbox"],[1,"col-12","text-start"],[1,"forgot-link",3,"routerLink"],["class","btn btn-lg btn-block btn-primary w-100","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-lg btn-block btn-light w-100","type","submit","disabled","",3,"disabled",4,"ngIf"],[1,"text-center","dont-have"],[3,"routerLink"],["type","submit",1,"btn","btn-lg","btn-block","btn-primary","w-100",3,"disabled"],["type","submit","disabled","",1,"btn","btn-lg","btn-block","btn-light","w-100",3,"disabled"],["src","assets/img/new/loader.gif","width","30px","alt",""]],template:function(e,s){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"img",6),t.j41(7,"p",7),t.EFF(8,"Connexion"),t.k0s(),t.nrm(9,"br"),t.j41(10,"form",8),t.bIt("ngSubmit",function(){return s.loginFormSubmit()}),t.j41(11,"div",9)(12,"label",10),t.EFF(13,"Email Address"),t.k0s(),t.nrm(14,"input",11),t.DNE(15,w,3,2,"div",12),t.k0s(),t.j41(16,"div",9)(17,"label",10),t.EFF(18,"Password"),t.k0s(),t.j41(19,"div",13),t.nrm(20,"input",14),t.j41(21,"a",15),t.bIt("click",function(){return s.show_password=!s.show_password}),t.nrm(22,"span",16),t.k0s(),t.DNE(23,y,2,1,"div",12),t.k0s()(),t.j41(24,"div",9)(25,"div",17)(26,"div",18)(27,"div",19)(28,"div",20)(29,"a",21),t.EFF(30,"Mot depasse oubli\xe9 ?"),t.k0s()()()(),t.DNE(31,F,2,1,"button",22)(32,L,2,1,"button",23),t.k0s(),t.j41(33,"div",24),t.EFF(34," Don't have an account yet? "),t.j41(35,"a",25),t.EFF(36,"Register"),t.k0s()()()()()()()()()()),2&e&&(t.R7$(10),t.Y8G("formGroup",s.form),t.R7$(4),t.Y8G("ngClass",t.eq3(11,c,s.f.email.touched&&s.f.email.invalid)),t.R7$(),t.vxM(s.f.email.touched&&s.f.email.invalid?15:-1),t.R7$(5),t.Y8G("type",s.show_password?"password":"text")("ngClass",t.eq3(13,c,s.f.password.touched&&s.f.password.invalid)),t.R7$(2),t.Y8G("ngClass",!0===s.show_password?"fas toggle-password fa-eye-slash":"fas toggle-password fa-eye"),t.R7$(),t.vxM(s.f.password.touched&&s.f.password.invalid?23:-1),t.R7$(6),t.Y8G("routerLink",s.routes.forgot_password),t.R7$(2),t.Y8G("ngIf",!s.isLoading),t.R7$(),t.Y8G("ngIf",s.isLoading),t.R7$(3),t.Y8G("routerLink",s.routes.register))},dependencies:[d.YU,d.bT,l.Wk,r.qT,r.me,r.BC,r.cb,r.j4,r.JD],styles:[".right-side-views[_ngcontent-%COMP%]{display:none}"]})}}return o})()}];let E=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(j),l.iI]})}}return o})();var G=n(76112);let R=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[d.MD,E,G.G]})}}return o})()}}]);