<!-- Page Header -->
<div class="page-header">
  <div class="content-page-header">
    <h5>Quotations</h5>
    <div class="list-btn">
      <ul class="filter-list">
        <li>
          <a
            (click)="openContent()"  (keydown.enter)="openContent()" tabindex="0"
            href="javascript:void(0);"
            matTooltip="Filter"
            class="btn btn-filters w-auto popup-toggle"
            ><span class="me-2"
            ><img src="assets/img/icons/filter-icon.svg" alt="filter" /></span
            >Filter
          </a>
        </li>
        <li>
          <a
            class="btn-filters"
            href="javascript:void(0);"
            matTooltip="Settings"
            ><span><i class="feather icon-settings"></i></span>
          </a>
        </li>
        <li>
          <a class="btn btn-primary" [routerLink]="routes.addquotation"
            ><i class="fa fa-plus-circle me-2" aria-hidden="true"></i>Create
            Quotation</a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- /Page Header -->

  <!-- Search Filter -->
  <div id="filter_inputs" class="card filter-card">
    <div class="card-body pb-0">
      <div class="row">
        <div class="col-sm-6 col-md-3">
          <div class="input-block mb-3">
            <label htmlFor="label">Name</label>
            <input id="label" type="text" class="form-control" />
          </div>
        </div>
        <div class="col-sm-6 col-md-3">
          <div class="input-block mb-3">
            <label htmlFor="label">Email</label>
            <input id="label" type="text" class="form-control" />
          </div>
        </div>
        <div class="col-sm-6 col-md-3">
          <div class="input-block mb-3">
            <label htmlFor="label">Phone</label>
            <input id="label" type="text" class="form-control" />
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /Search Filter -->

  <!-- Table -->
  <div class="row">
    <div class="col-sm-12">
      <div class="card-table">
        <div class="card-body">
          <div class="table-responsive">
            <table
              matSort
              (matSortChange)="sortData($event)"
              class="table table-stripped table-hover datatable"
              >
              <thead class="thead-light">
                <tr>
                  <th mat-sort-header="sNo">#</th>
                  <th mat-sort-header="quotationid">Quotation ID</th>
                  <th mat-sort-header="customer">Customer</th>
                  <th mat-sort-header="createdOn">Created On</th>
                  <th mat-sort-header="status">Status</th>
                  <th class="text-end">Action</th>
                </tr>
              </thead>
              <tbody>
                @for (data of quotations; track data; let i = $index) {
                  <tr>
                    <td>{{ data.sNo }}</td>
                    <td>{{ data.quotationId }}</td>
                    <td>
                      <h2 class="table-avatar">
                        <a
                          [routerLink]="routes.profile"
                          class="avatar avatar-sm me-2"
                          ><img
                          class="avatar-img rounded-circle"
                          [src]="data.img"
                          alt="User Image"
                        /></a>
                        <a [routerLink]="routes.profile"
                          >{{ data.name }} <span>{{ data.pho }}</span></a
                          >
                        </h2>
                      </td>
                      <td>{{ data.createdOn }}</td>
                      <td>
                        <span
                    [ngClass]="{
                      ' bg-primary-light text-primary-light':
                        data.status === 'Sent',
                      ' bg-success-light text-success-light':
                        data.status === 'Accepted',
                      'bg-danger-light': data.status === 'Declined',
                      'bg-light-gray text-secondary': data.status === 'Expired'
                    }"
                          class="badge"
                          >{{ data.status }}</span
                          >
                        </td>
                        <td class="d-flex align-items-center">
                          <div class="dropdown dropdown-action">
                            <a
                              href="javascript:void(0);"
                              class="btn-action-icon"
                              data-bs-toggle="dropdown"
                              aria-expanded="false"
                              ><i class="fas fa-ellipsis-v"></i
                            ></a>
                            <div
                              class="dropdown-menu dropdown-menu-right quatation-dropdown"
                              >
                              <ul>
                                <li>
                                  <a
                                    class="dropdown-item"
                                    [routerLink]="routes.editquotations"
                                    ><i class="far fa-edit me-2"></i>Edit</a
                                    >
                                  </li>
                                  <li>
                                    <a
                                      class="dropdown-item"
                                      href="javascript:void(0);"
                                      data-bs-toggle="modal"
                                      data-bs-target="#delete_modal"
                                      ><i class="far fa-trash-alt me-2"></i>Delete</a
                                      >
                                    </li>
                                    <li>
                                      <a class="dropdown-item" href="javascript:void(0);"
                                        ><i class="far fa-eye me-2"></i>View</a
                                        >
                                      </li>
                                      <li>
                                        <a
                                          class="dropdown-item"
                                          [routerLink]="routes.addInvoice"
                                          ><i class="far fa-file-text me-2"></i>Convert to
                                          Invoice</a
                                          >
                                        </li>
                                        <li>
                                          <a class="dropdown-item" href="javascript:void(0);"
                                            ><i class="far fa-arrow-right-circle me-2"></i>Mark
                                            as Sent</a
                                            >
                                          </li>
                                          <li>
                                            <a class="dropdown-item" href="javascript:void(0);"
                                              ><i class="feather icon-send me-2"></i>Send</a
                                              >
                                            </li>
                                            <li>
                                              <a class="dropdown-item" href="javascript:void(0);"
                                                ><i class="far fa-copy me-2"></i>Clone as Invoice</a
                                                >
                                              </li>
                                              <li>
                                                <a class="dropdown-item" href="javascript:void(0);"
                                                  ><i class="feather icon-download me-2"></i
                                                  >Download</a
                                                  >
                                                </li>
                                              </ul>
                                            </div>
                                          </div>
                                        </td>
                                      </tr>
                                    }
                                  </tbody>
                                </table>
                              </div>
                              <app-custom-pagination></app-custom-pagination>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- /Table -->

                      <!-- Add Asset -->
                      <div class="toggle-sidebar" [ngClass]="{ 'open-filter': toggleData === true }">
                        <div class="sidebar-layout-filter">
                          <div class="sidebar-header">
                            <h5>Filter</h5>
                            <a
                              href="javascript:void(0);"
                              (click)="openContent()"  (keydown.enter)="openContent()" tabindex="0"
                              class="sidebar-closes"
                              ><i class="fa-regular fa-circle-xmark"></i
                            ></a>
                          </div>
                          <div class="sidebar-body">
                            <form action="#" autocomplete="off">
                              <!-- Customer -->
                              <div class="accordion" id="accordionMain1">
                                <div class="card-header-new" id="headingOne">
                                  <h6 class="filter-title">
                                    <a
                                      href="javascript:void(0);"
                                      class="w-100"
                                      data-bs-toggle="collapse"
                                      data-bs-target="#collapseOne"
                                      aria-expanded="true"
                                      aria-controls="collapseOne"
                                      >
                                      Customer
                                      <span class="float-end"
                                        ><i class="fa-solid fa-chevron-down"></i
                                      ></span>
                                    </a>
                                  </h6>
                                </div>

                                <div
                                  id="collapseOne"
                                  class="collapse show"
                                  aria-labelledby="headingOne"
                                  data-bs-parent="#accordionExample1"
                                  >
                                  <div class="card-body-chat">
                                    <div class="row">
                                      <div class="col-md-12">
                                        <div id="checkBoxes1">
                                          <div class="form-custom">
                                            <input
                                              type="text"
                                              class="form-control"
                                              id="member_search1"
                                              placeholder="Search here"
                                              />
                                              <span
                                                ><img src="assets/img/icons/search.svg" alt="img"
                                              /></span>
                                            </div>
                                            <div class="selectBox-cont">
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="username" />
                                                <span class="checkmark"></span> John Smith
                                              </label>
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="username" />
                                                <span class="checkmark"></span> Johnny
                                              </label>
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="username" />
                                                <span class="checkmark"></span> Robert
                                              </label>
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="username" />
                                                <span class="checkmark"></span> Sharonda
                                              </label>
                                              <!-- View All -->
                                              <div class="view-content">
                                                <div class="viewall-One">
                                                  @for (user of users; track user) {
                                                    <label
                                                      class="custom_check w-100"
                            [ngClass]="{
                              closed: !isCollapsed1,
                              open: isCollapsed1
                            }"
                                                      >
                                                      <input
                                                        type="checkbox"
                                                        name="username"
                                                        [(ngModel)]="user.checked"
                                                        />
                                                        <span class="checkmark"></span> {{ user.name }}
                                                      </label>
                                                    }
                                                  </div>
                                                  <div class="view-all">
                                                    <a
                                                      (click)="toggleCollapse1()"
                                                      href="javascript:void(0);"
                                                      class="viewall-button-One"
                                                      ><span class="me-2">{{
                                                      isCollapsed1 ? "Close All" : "View All"
                                                      }}</span
                                                      ><span
                                                      ><i
                                                      class="fa"
                                [ngClass]="
                                  !isCollapsed1
                                    ? 'fa-circle-chevron-down'
                                    : 'fa-circle-chevron-up'
                                "
                                                    ></i></span
                                                  ></a>
                                                </div>
                                              </div>
                                              <!-- /View All -->
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <!-- /Customer -->

                                <!-- Select Date -->
                                <div class="accordion" id="accordionMain2">
                                  <div class="card-header-new" id="headingTwo">
                                    <h6 class="filter-title">
                                      <a
                                        href="javascript:void(0);"
                                        class="w-100 collapsed"
                                        data-bs-toggle="collapse"
                                        data-bs-target="#collapseTwo"
                                        aria-expanded="true"
                                        aria-controls="collapseTwo"
                                        >
                                        Select Date
                                        <span class="float-end"
                                          ><i class="fa-solid fa-chevron-down"></i
                                        ></span>
                                      </a>
                                    </h6>
                                  </div>

                                  <div
                                    id="collapseTwo"
                                    class="collapse"
                                    aria-labelledby="headingTwo"
                                    data-bs-parent="#accordionExample2"
                                    >
                                    <div class="card-body-chat">
                                      <div class="input-block mb-3">
                                        <label for="From" class="form-control-label">From</label>
                                        <div class="cal-icon">
                                          <input
                                            type="email"
                                            class="form-control datetimepicker"
                                            bsDatepicker [bsConfig]="{ adaptivePosition: true }"
                                            placeholder="DD-MM-YYYY"
                                            />
                                          </div>
                                        </div>
                                        <div class="input-block mb-3">
                                          <label for="To" class="form-control-label">To</label>
                                          <div class="cal-icon">
                                            <input
                                              type="email"
                                              class="form-control datetimepicker"
                                              bsDatepicker [bsConfig]="{ adaptivePosition: true }"
                                              placeholder="DD-MM-YYYY"
                                              />
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <!-- /Select Date -->
                                    <!-- Category -->
                                    <div class="accordion accordion-last" id="accordionMain4">
                                      <div class="card-header-new" id="headingFour">
                                        <h6 class="filter-title">
                                          <a
                                            href="javascript:void(0);"
                                            class="w-100 collapsed"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#collapseFour"
                                            aria-expanded="true"
                                            aria-controls="collapseFour"
                                            >
                                            Quotation Id
                                            <span class="float-end"
                                              ><i class="fa-solid fa-chevron-down"></i
                                            ></span>
                                          </a>
                                        </h6>
                                      </div>

                                      <div
                                        id="collapseFour"
                                        class="collapse"
                                        aria-labelledby="headingFour"
                                        data-bs-parent="#accordionExample4"
                                        >
                                        <div class="card-body-chat">
                                          <div id="checkBoxes3">
                                            <div class="selectBox-cont">
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="category" />
                                                <span class="checkmark"></span> 4905681
                                              </label>
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="category" />
                                                <span class="checkmark"></span> 4905682
                                              </label>
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="category" />
                                                <span class="checkmark"></span> 4905683
                                              </label>
                                              <label class="custom_check w-100">
                                                <input type="checkbox" name="category" />
                                                <span class="checkmark"></span> 4905684
                                              </label>
                                              <!-- View All -->
                                              <div class="view-content">
                                                <div class="viewall-One">
                                                  @for (user of users2; track user) {
                                                    <label
                                                      class="custom_check w-100"
                        [ngClass]="{
                          closed: !isCollapsed2,
                          open: isCollapsed2
                        }"
                                                      >
                                                      <input
                                                        type="checkbox"
                                                        name="username"
                                                        [(ngModel)]="user.checked"
                                                        />
                                                        <span class="checkmark"></span> {{ user.name }}
                                                      </label>
                                                    }
                                                  </div>
                                                  <div class="view-all">
                                                    <a
                                                      (click)="toggleCollapse2()"
                                                      href="javascript:void(0);"
                                                      class="viewall-button-One"
                                                      ><span class="me-2">{{
                                                      isCollapsed2 ? "Close All" : "View All"
                                                      }}</span
                                                      ><span
                                                      ><i
                                                      class="fa"
                            [ngClass]="
                              !isCollapsed2
                                ? 'fa-circle-chevron-down'
                                : 'fa-circle-chevron-up'
                            "
                                                    ></i></span
                                                  ></a>
                                                </div>
                                              </div>
                                              <!-- /View All -->
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <!-- /Category -->

                                    <!-- By Status -->
                                    <div class="accordion" id="accordionMain3">
                                      <div class="card-header-new" id="headingThree">
                                        <h6 class="filter-title">
                                          <a
                                            href="javascript:void(0);"
                                            class="w-100 collapsed"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#collapseThree"
                                            aria-expanded="true"
                                            aria-controls="collapseThree"
                                            >
                                            By Status
                                            <span class="float-end"
                                              ><i class="fa-solid fa-chevron-down"></i
                                            ></span>
                                          </a>
                                        </h6>
                                      </div>

                                      <div
                                        id="collapseThree"
                                        class="collapse"
                                        aria-labelledby="headingThree"
                                        data-bs-parent="#accordionExample3"
                                        >
                                        <div class="card-body-chat">
                                          <div id="checkBoxes2">
                                            <div class="form-custom">
                                              <input
                                                type="text"
                                                class="form-control"
                                                id="member_search2"
                                                placeholder="Search here"
                                                />
                                                <span
                                                  ><img src="assets/img/icons/search.svg" alt="img"
                                                /></span>
                                              </div>
                                              <div class="selectBox-cont">
                                                <label class="custom_check w-100">
                                                  <input type="checkbox" name="bystatus" />
                                                  <span class="checkmark"></span> Sent
                                                </label>
                                                <label class="custom_check w-100">
                                                  <input type="checkbox" name="bystatus" />
                                                  <span class="checkmark"></span> Accepted
                                                </label>
                                                <label class="custom_check w-100">
                                                  <input type="checkbox" name="bystatus" />
                                                  <span class="checkmark"></span> Declined
                                                </label>
                                                <label class="custom_check w-100">
                                                  <input type="checkbox" name="bystatus" />
                                                  <span class="checkmark"></span> Expired
                                                </label>
                                                <label class="custom_check w-100">
                                                  <input type="checkbox" name="bystatus" />
                                                  <span class="checkmark"></span> Sent
                                                </label>
                                                <label class="custom_check w-100">
                                                  <input type="checkbox" name="bystatus" />
                                                  <span class="checkmark"></span> Accepted
                                                </label>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <!-- /By Status -->

                                      <div class="filter-buttons">
                                        <button
                                          type="submit"
                                          class="d-inline-flex align-items-center justify-content-center btn w-100 btn-primary"
                                          >
                                          Apply
                                        </button>
                                        <button
                                          type="submit"
                                          class="d-inline-flex align-items-center justify-content-center btn w-100 btn-secondary"
                                          >
                                          Reset
                                        </button>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                              <!--/Add Asset -->

                              <!-- Delete Items Modal -->
                              <div class="modal custom-modal fade" id="delete_modal" role="dialog">
                                <div class="modal-dialog modal-dialog-centered modal-md">
                                  <div class="modal-content">
                                    <div class="modal-body">
                                      <div class="form-header">
                                        <h3>Delete Quotations</h3>
                                        <p>Are you sure want to delete?</p>
                                      </div>
                                      <div class="modal-btn delete-action">
                                        <div class="row">
                                          <div class="col-6">
                                            <a
                                              href="javascript:void(0);"
                                              class="btn btn-primary paid-continue-btn"
                                              >Delete</a
                                              >
                                            </div>
                                            <div class="col-6">
                                              <a
                                                href="javascript:void(0);"
                                                data-bs-dismiss="modal"
                                                class="btn btn-primary paid-cancel-btn"
                                                >Cancel</a
                                                >
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- /Delete Items Modal -->
